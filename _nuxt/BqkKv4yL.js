import{u as m,_ as f,q as x}from"./r5aeiJF2.js";import{A as y,u as h,s as v,f as b,c as e,y as n,x as g,a as o,F as k,z as w,b as $,o as t,t as C}from"./B0gTq6mN.js";const D={class:"container mx-auto p-4"},E={key:0,class:"flex gap-8"},A={key:0,class:"w-64 flex-shrink-0 sticky top-8 self-start gt-sm"},B=["href"],N={class:"flex-1"},V={key:1},R={__name:"[...slug]",async setup(q){let r,d;const _=y(),{locale:c}=h(),{data:u}=([r,d]=v(()=>m(`${c.value}-experiences-${_.params.slug}`,()=>x("experiences").path(`/${c.value}/experiences/${_.params.slug.join("").replace(/\/$/,"")}`).first(),{watch:[c]})),r=await r,d(),r),s=b(()=>{if(console.log(u.value),!u.value)return null;const a=u.value;return{...a,start_date:new Date(a.start_date),end_date:a.end_date?new Date(a.end_date):null}});return(a,l)=>{const p=f;return t(),e("main",D,[n(s)?(t(),e("div",E,[n(s).body.toc&&n(s).body.toc.links.length?(t(),e("nav",A,[l[0]||(l[0]=o("h2",{class:"font-bold mb-4"},"Sommaire",-1)),o("ul",null,[(t(!0),e(k,null,w(n(s).body.toc.links,i=>(t(),e("li",{key:i.id,class:"mb-2"},[o("a",{href:"#"+i.id,class:"text-blue-600 hover:underline"},C(i.text),9,B)]))),128))])])):g("",!0),o("article",N,[$(p,{value:n(s),class:"prose",prose:!1},null,8,["value"])])])):(t(),e("article",V,l[1]||(l[1]=[o("p",null,"Exp√©rience introuvable.",-1)])))])}}};export{R as default};
