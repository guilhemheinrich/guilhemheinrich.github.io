import{u as p,_ as f,q as x}from"./DcpCwTML.js";import{A as h,u as y,j as v,B as b,s as g,f as k,c as e,y as o,x as w,a as n,F as E,z as $,b as B,o as t,t as C}from"./DoWNTJTP.js";const D={class:"container mx-auto p-4"},A={key:0,class:"flex gap-8"},L={key:0,class:"w-64 flex-shrink-0 sticky top-8 self-start gt-sm"},N=["href"],V={class:"flex-1"},j={key:1},R={__name:"[...slug]",async setup(q){let l,d;const m=h(),{locale:c}=y();v(()=>{setTimeout(()=>{document.documentElement.classList.add("scroll-smooth")})}),b(()=>{document.documentElement.classList.remove("scroll-smooth")});const{data:u}=([l,d]=g(()=>p(`${c.value}-experiences-${m.params.slug}`,()=>x("experiences").path(`/${c.value}/experiences/${m.params.slug.join("").replace(/\/$/,"")}`).first(),{watch:[c]})),l=await l,d(),l),s=k(()=>{if(console.log(u.value),!u.value)return null;const a=u.value;return{...a,start_date:new Date(a.start_date),end_date:a.end_date?new Date(a.end_date):null}});return(a,r)=>{const _=f;return t(),e("main",D,[o(s)?(t(),e("div",A,[o(s).body.toc&&o(s).body.toc.links.length?(t(),e("nav",L,[r[0]||(r[0]=n("h2",{class:"font-bold mb-4"},"Sommaire",-1)),n("ul",null,[(t(!0),e(E,null,$(o(s).body.toc.links,i=>(t(),e("li",{key:i.id,class:"mb-2"},[n("a",{href:"#"+i.id,class:"text-blue-600 hover:underline"},C(i.text),9,N)]))),128))])])):w("",!0),n("article",V,[B(_,{value:o(s),class:"prose",prose:!1},null,8,["value"])])])):(t(),e("article",j,r[1]||(r[1]=[n("p",null,"Exp√©rience introuvable.",-1)])))])}}};export{R as default};
